<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>西川建設工業</title>
    <link rel="stylesheet" href="css/phone.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Yomogi&display=swap" rel="stylesheet">
  </head>
  <body>
    <!-- 確認画面セクション -->
    <section>
      <div class="page_title_contact">
        <h2>確認画面<br>
        <span>Confirm</span></h2>
      </div>
    </section>

    <section class="confirmation-details">
      <div>
        <p>以下の内容でよろしければ、送信ボタンをクリックしてください。</p>
        <p><strong>お名前:</strong> <span id="confirm-name"></span></p>
        <p><strong>メールアドレス:</strong> <span id="confirm-email"></span></p>
        <p><strong>電話番号:</strong> <span id="confirm-phone"></span></p>
        <p><strong>お問い合わせ内容:</strong> <span id="confirm-message"></span></p>
      </div>

      <form id="contact-form" action="https://formspree.io/f/xwpvvjkq" method="POST">
        <input type="hidden" name="name" id="confirm-name-input">
        <input type="hidden" name="_replyto" id="confirm-email-input">
        <input type="hidden" name="phone" id="confirm-phone-input">
        <input type="hidden" name="message" id="confirm-message-input">
        <button type="submit" class="cta-button">送信する</button>
      </form>
      <a href="contact-mobile.html" class="cta-button">修正する</a>

      <div id="response-message" style="margin-top: 20px; font-weight: bold;"></div>
    </section>

    <footer>
      <p>&copy; 2024 西川建設工業 | All Rights Reserved</p>
    </footer>

    <script>
      // クエリパラメータを取得する関数
      function getQueryParam(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
      }

      // ページが読み込まれたときにフォームに値をセット
      window.onload = function () {
        const name = getQueryParam('name');
        const email = getQueryParam('email');
        const phone = getQueryParam('phone');
        const message = getQueryParam('message');

        // 取得したデータを表示
        document.getElementById('confirm-name').textContent = name;
        document.getElementById('confirm-email').textContent = email;
        document.getElementById('confirm-phone').textContent = phone;
        document.getElementById('confirm-message').textContent = message;

        // 入力されたデータを隠しフィールドにも設定
        document.getElementById('confirm-name-input').value = name;
        document.getElementById('confirm-email-input').value = email;
        document.getElementById('confirm-phone-input').value = phone;
        document.getElementById('confirm-message-input').value = message;
      };
    </script>

  </body>
</html>
